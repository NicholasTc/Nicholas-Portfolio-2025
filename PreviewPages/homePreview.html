<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Firstname Lastname ‚Äî Portfolio (Projects v2)</title>
<meta name="description" content="Minimal portfolio preview with refined projects grid, filters, quick-view modal, and polished CTA buttons." />

<style>
  /* ================== Design Tokens (Dark as base) ================== */
  :root{
    --bg:#0b0f17;
    --surface:#0f172a;
    --text:#e5e7eb;
    --muted:#94a3b8;
    --line:#1f2a3b;
    --accent:#60a5fa;

    --radius:16px;
    --shadow:0 18px 50px rgba(2,6,23,.35);
    --wrap:1200px;
    --blur:8px;

    /* Glow overlay for top hero */
    --top-glow: rgba(255,255,255,.08);

    /* CTA button palette (calm) */
    --btn-primary:#87a6f3;
    --btn-primary-ink:#0f172a;
    --btn-dark:#121827;
    --btn-dark-border:#1e2a3d;
    --btn-glow:0 14px 38px rgba(110,140,255,.22), 0 4px 12px rgba(110,140,255,.12);
  }
  /* Light theme overrides */
  :root[data-theme="light"]{
    --bg:#f7f9fc;
    --surface:#ffffff;
    --text:#0b1220;
    --muted:#5b6b7f;
    --line:#e5e9f0;
    --accent:#2563eb;
    --shadow:0 18px 50px rgba(2,6,23,.08);
    --top-glow: rgba(255,255,255,.55);

    --btn-dark:#0f1729;
    --btn-dark-border:#1f2a3b;
  }

  /* ================== Base ================== */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background: var(--bg);
    color:var(--text);
    font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    transition: background .35s ease, color .25s ease;
  }
  body::before{
    content:"";
    position:fixed; inset:-25vh -10vw -35vh -10vw; z-index:-1; pointer-events:none;
    background:
      radial-gradient(60vw 40vw at 20% -10%, color-mix(in oklab, var(--accent) 28%, transparent), transparent 60%),
      radial-gradient(50vw 30vw at 80% -10%, color-mix(in oklab, var(--accent) 16%, transparent), transparent 60%);
    filter: blur(28px); opacity:.9;
  }
  body::after{
    content:""; position:fixed; left:0; right:0; top:0; height:36vh; z-index:10; pointer-events:none;
    background: linear-gradient(to bottom, var(--top-glow), rgba(255,255,255,0) 65%);
  }
  a{color:inherit;text-decoration:none}
  .wrap{max-width:var(--wrap); margin:0 auto; padding:0 24px}

  /* ================== Nav ================== */
  .nav{
    position:sticky; top:0; z-index:50;
    backdrop-filter:saturate(120%) blur(var(--blur));
    background:color-mix(in oklab, var(--bg) 65%, transparent);
    border-bottom:1px solid color-mix(in oklab, var(--line) 70%, transparent);
  }
  .nav-inner{display:flex; align-items:center; justify-content:space-between; height:64px}
  .brand{display:flex; align-items:center; gap:10px; font-weight:600; letter-spacing:.2px}
  .brand-dot{width:10px; height:10px; border-radius:999px; background:var(--accent); box-shadow:0 0 24px color-mix(in oklab, var(--accent) 80%, transparent)}
  .links{display:flex; gap:22px; align-items:center}
  .links a{color:var(--muted)}
  .links a:hover{color:var(--text)}

  /* Toggle button */
  .toggle{
    display:inline-flex; align-items:center; gap:10px;
    padding:8px 12px; border-radius:999px; cursor:pointer;
    border:1px solid color-mix(in oklab, var(--line) 70%, transparent);
    background:var(--surface); color:var(--text);
    transition: background .2s ease, border-color .2s ease, color .2s ease;
  }
  .toggle:focus-visible{outline:2px solid var(--accent); outline-offset:2px}
  .toggle .icon{width:18px; height:18px; display:inline-block}
  .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}

  /* ================== Hero ================== */
  .hero{padding:96px 0 36px}
  h1{font-size:clamp(40px,6vw,72px); line-height:1.06; letter-spacing:-.02em; margin:0 0 12px}
  .lead{color:var(--muted); max-width:720px; font-size:clamp(16px,2.2vw,20px)}

  /* ================== CTA Buttons (light + dark pair) ================== */
  .cta{margin-top:22px; display:flex; gap:12px; flex-wrap:wrap}
  .btn{
    --pad-y:14px; --pad-x:22px;
    position:relative; isolation:isolate; display:inline-flex; align-items:center; justify-content:center;
    padding:var(--pad-y) var(--pad-x);
    border-radius:999px; border:none; outline:none; font-weight:600; letter-spacing:.2px; font-size:18px;
    cursor:pointer; user-select:none; text-decoration:none;
    background:
      radial-gradient(140px 140px at var(--mx,50%) var(--my,50%),
        rgba(255,255,255,.10), transparent 45%);
    transition: transform .18s ease, box-shadow .22s ease, background .2s ease;
  }
  /* Dark secondary (default .btn) */
  .btn{
    color:#e9edf8;
    background:
      radial-gradient(140px 140px at var(--mx,50%) var(--my,50%),
        rgba(255,255,255,.08), transparent 46%),
      linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.10) 60%),
      var(--btn-dark);
    box-shadow: inset 0 0 0 1px var(--btn-dark-border);
  }
  /* Light primary (.btn.primary) */
  .btn.primary{
    color:var(--btn-primary-ink);
    background:
      radial-gradient(140px 140px at var(--mx,50%) var(--my,50%),
        rgba(255,255,255,.18), transparent 46%),
      linear-gradient(180deg, rgba(255,255,255,.22), rgba(255,255,255,0) 55%),
      var(--btn-primary);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.35);
    text-shadow: 0 1px 0 rgba(255,255,255,.45);
  }
  .btn:hover{ transform:translateY(-1px) }
  .btn.primary:hover{ box-shadow: var(--btn-glow) }
  .btn:not(.primary):hover{ box-shadow: 0 12px 30px rgba(0,0,0,.35) }
  .btn:active{ transform: translateY(0) scale(.995) }
  .btn:focus-visible{
    box-shadow:
      0 0 0 3px rgba(255,255,255,.10),
      0 0 0 6px rgba(120,150,255,.35);
  }
  .btn .shine{ pointer-events:none; position:absolute; inset:1px; border-radius:inherit; overflow:hidden }
  .btn .shine::before{
    content:""; position:absolute; inset:0; border-radius:inherit;
    background: linear-gradient(to bottom, rgba(255,255,255,.14), rgba(255,255,255,0) 42%);
    mix-blend-mode:screen;
  }
  .btn .ripple{
    position:absolute; border-radius:50%; pointer-events:none; inset:auto;
    width:12px; height:12px;
    background: radial-gradient(closest-side, rgba(255,255,255,.45), transparent 65%);
    transform: translate(-50%,-50%) scale(0); opacity:.7; filter: blur(.2px);
    animation: ripple .55s ease-out forwards;
  }
  @keyframes ripple{
    0%{ transform: translate(-50%,-50%) scale(0); opacity:.7 }
    100%{ transform: translate(-50%,-50%) scale(18); opacity:0 }
  }

  /* ================== Hero Media ================== */
  .hero-media{
    margin-top:42px; border-radius:calc(var(--radius) + 8px);
    background:
      linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)),
      url('https://picsum.photos/1200/650?random=100') center/cover no-repeat;
    min-height:360px; box-shadow:var(--shadow);
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
  }

  /* ================== Projects v2 ================== */
  #projects{ margin-top: 8px; }
  .projects-head{
    display:flex; align-items:center; justify-content:space-between; gap:12px;
    flex-wrap:wrap; margin-top:10px;
  }
  .filters{ display:flex; gap:8px; flex-wrap:wrap }
  .filter{
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    background: var(--surface); color: var(--text);
    padding:8px 12px; border-radius:999px; font-size:14px; cursor:pointer;
    transition: background .2s ease, border-color .2s ease, transform .15s ease;
  }
  .filter[aria-pressed="true"]{
    background: color-mix(in oklab, var(--accent) 22%, transparent);
    border-color: color-mix(in oklab, var(--accent) 45%, var(--line));
  }
  .layout{
    display:flex; gap:6px; border:1px solid color-mix(in oklab,var(--line) 60%,transparent);
    border-radius:999px; padding:4px; background:var(--surface);
  }
  .layout button{
    border:none; background:transparent; color:var(--muted);
    padding:8px 10px; border-radius:999px; cursor:pointer
  }
  .layout button[aria-pressed="true"]{
    background: color-mix(in oklab, var(--accent) 18%, transparent); color: var(--text)
  }

  .featured{
    margin-top:18px; display:grid; grid-template-columns: 1.25fr 1fr; gap:18px;
  }
  @media (max-width:900px){ .featured{ grid-template-columns: 1fr } }
  .featured .visual{
    min-height:280px; border-radius: calc(var(--radius) + 8px);
    background:
      linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)),
      url('https://picsum.photos/1000/700?random=21') center/cover no-repeat;
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    box-shadow: var(--shadow);
  }
  .featured .panel{
    background: var(--surface);
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    border-radius: var(--radius); padding:18px; box-shadow: var(--shadow);
  }
  .kpis{ display:flex; gap:12px; flex-wrap:wrap; margin:10px 0 6px }
  .kpi{
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    background: color-mix(in oklab, var(--surface) 85%, transparent);
    padding:8px 12px; border-radius:10px; font-weight:600; font-size:14px;
  }
  .kpi small{ display:block; color:var(--muted); font-weight:500; font-size:12px }

  .proj-grid{ margin-top:18px; display:grid; gap:18px; grid-template-columns:repeat(3,1fr) }
  @media (max-width:980px){ .proj-grid{ grid-template-columns:repeat(2,1fr) } }
  @media (max-width:620px){ .proj-grid{ grid-template-columns:1fr } }

  .proj{
    background: var(--surface);
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow);
    display:flex; flex-direction:column;
  }
  .proj .thumb{ aspect-ratio:16/9; background:center/cover no-repeat;
    border-bottom:1px solid color-mix(in oklab, var(--line) 60%, transparent);
  }
  .proj .body{ padding:14px 14px 16px }
  .proj .title{ font-size:18px; margin:8px 0 6px }
  .proj .meta{ display:flex; gap:8px; flex-wrap:wrap; margin:6px 0 8px }
  .badge{
    font-size:12px; color:var(--muted);
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    padding:4px 10px; border-radius:999px
  }
  .impact{ font-weight:600; font-size:14px }

  .proj .row{ display:flex; justify-content:space-between; align-items:center; margin-top:10px; gap:10px }
  .quick{
    font-size:14px; color: var(--text);
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    background: var(--surface); border-radius:999px; padding:8px 12px; cursor:pointer;
  }

  /* Modal (Quick-View) */
  .modal{
    position:fixed; inset:0; display:none; align-items:center; justify-content:center;
    background: color-mix(in oklab, var(--bg) 60%, rgba(0,0,0,.45));
    z-index:100; padding:18px;
  }
  .modal[open]{ display:flex }
  .dialog{
    max-width:720px; width:100%; background:var(--surface);
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    border-radius: calc(var(--radius) + 4px); box-shadow: var(--shadow);
    padding:18px;
  }
  .dialog header{ display:flex; justify-content:space-between; align-items:center; gap:10px }
  .dialog .muted{ margin:6px 0 8px }
  .dialog .list{ margin:10px 0 14px; padding-left:18px }
  .dialog .actions{ display:flex; gap:10px; flex-wrap:wrap }
  .modal-close{ border:none; background:transparent; color:var(--muted); font-size:20px; cursor:pointer }

  /* ================== Cards, About & Footer (unchanged base) ================== */
  section h2{font-size:28px; margin:0 0 12px}
  .muted{color:var(--muted)}
  .about{
    margin-top:64px; padding:28px;
    border:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    border-radius:var(--radius);
    background: var(--surface);
    box-shadow: var(--shadow);
    position:relative; z-index:1;
  }
  footer{
    border-top:1px solid color-mix(in oklab, var(--line) 60%, transparent);
    margin-top:64px; padding:22px 0; color:var(--muted)
  }

  /* Motion care */
  @media (prefers-reduced-motion: reduce){ *{animation:none !important; transition:none !important} }
</style>
</head>
<body>

<!-- ================== Nav ================== -->
<header class="nav">
  <div class="wrap nav-inner">
    <div class="brand">
      <span class="brand-dot" aria-hidden="true"></span>
      <span>Firstname Lastname</span>
    </div>

    <nav class="links" aria-label="Primary">
      <a href="#projects">Projects</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>

      <!-- Theme Toggle -->
      <button id="themeToggle" class="toggle" type="button" aria-pressed="false">
        <span class="icon" aria-hidden="true" id="themeIcon">üåô</span>
        <span id="themeLabel">Dark</span>
        <span class="sr-only">Toggle color theme</span>
      </button>
    </nav>
  </div>
</header>

<main class="wrap">
  <!-- ================== Hero ================== -->
  <section class="hero" aria-label="Intro">
    <h1>Building clean, testable products that ship.</h1>
    <p class="lead">Placeholder line for your value prop. Mention what you build, who it‚Äôs for, and the impact in one short sentence.</p>
    <div class="cta">
      <a class="btn primary" href="#projects">View Projects<span class="shine"></span></a>
      <a class="btn" href="#resume">Download R√©sum√©<span class="shine"></span></a>
    </div>
    <div class="hero-media" role="img" aria-label="Project montage placeholder"></div>
  </section>

  <!-- ================== Projects (new structure) ================== -->
  <section id="projects" aria-labelledby="projects-title">
    <div class="projects-head">
      <div>
        <h2 id="projects-title">Highlighted Projects</h2>
        <p class="muted">Impact first. Filter by stack and open quick-views without leaving.</p>
      </div>

      <div style="display:flex; gap:10px; align-items:center">
        <div class="filters" role="toolbar" aria-label="Project filters">
          <button class="filter" data-filter="all" aria-pressed="true">All</button>
          <button class="filter" data-filter="web">Web</button>
          <button class="filter" data-filter="backend">Backend</button>
          <button class="filter" data-filter="ml">ML</button>
          <button class="filter" data-filter="wordpress">WordPress</button>
        </div>

        <div class="layout" role="toolbar" aria-label="Layout">
          <button id="gridBtn" aria-pressed="true" title="Grid">‚ñ¶</button>
          <button id="listBtn" aria-pressed="false" title="List">‚â£</button>
        </div>
      </div>
    </div>

    <!-- Featured -->
    <div class="featured" data-kind="web backend">
      <div class="visual" role="img" aria-label="Featured project montage"></div>
      <div class="panel">
        <h3 style="margin:0 0 6px">Pollen Atlas ‚Äî Air & Pollen Dashboards</h3>
        <p class="muted">WordPress + Elementor widget merging Google Pollen & Air Quality APIs. Serverless caching and accessible charts.</p>
        <div class="kpis">
          <div class="kpi">-38% <small>Time to first paint</small></div>
          <div class="kpi">+18% <small>Session length</small></div>
          <div class="kpi">99.8% <small>Widget success rate</small></div>
        </div>
        <div class="actions">
          <a class="btn primary" href="#"><span class="shine"></span>Case Study ‚Üí</a>
          <a class="btn" href="#"><span class="shine"></span>Live Demo</a>
        </div>
      </div>
    </div>

    <!-- Grid -->
    <div class="proj-grid" id="projGrid">
      <article class="proj" data-kind="backend web">
        <div class="thumb" style="background-image:url('https://picsum.photos/800/450?random=31')"></div>
        <div class="body">
          <div class="title">GymApp ‚Äî Flask + React</div>
          <div class="meta">
            <span class="badge">Flask</span><span class="badge">React</span><span class="badge">SQL</span>
          </div>
          <div class="impact muted">‚Äú-42% query time; added progress predictions.‚Äù</div>
          <div class="row">
            <button class="quick" data-modal="m1">Quick-view</button>
            <div class="actions"><a class="link" href="#">Repo</a></div>
          </div>
        </div>
      </article>

      <article class="proj" data-kind="wordpress web">
        <div class="thumb" style="background-image:url('https://picsum.photos/800/450?random=32')"></div>
        <div class="body">
          <div class="title">Pollen Atlas ‚Äî WP Widget</div>
          <div class="meta">
            <span class="badge">WordPress</span><span class="badge">APIs</span><span class="badge">Charts</span>
          </div>
          <div class="impact muted">‚Äú+23% retention on city pages.‚Äù</div>
          <div class="row">
            <button class="quick" data-modal="m2">Quick-view</button>
            <div class="actions"><a class="link" href="#">Live</a></div>
          </div>
        </div>
      </article>

      <article class="proj" data-kind="backend">
        <div class="thumb" style="background-image:url('https://picsum.photos/800/450?random=33')"></div>
        <div class="body">
          <div class="title">Packing Slip Gen ‚Äî Spring Boot</div>
          <div class="meta">
            <span class="badge">Spring Boot</span><span class="badge">MySQL</span><span class="badge">Docker</span>
          </div>
          <div class="impact muted">‚Äú99.2% endpoint success; PDF batch export.‚Äù</div>
          <div class="row">
            <button class="quick" data-modal="m3">Quick-view</button>
            <div class="actions"><a class="link" href="#">Case Study ‚Üí</a></div>
          </div>
        </div>
      </article>
    </div>
  </section>

  <!-- ================== About ================== -->
  <section id="about" class="about" aria-labelledby="about-title">
    <h2 id="about-title">About</h2>
    <p class="muted">Short story about you (2‚Äì3 sentences). Add a sentence on how you work‚Äîtests, docs, clean interfaces‚Äîand what you‚Äôre exploring now.</p>
    <p class="muted"><strong>Skills:</strong> Frontend (React/JS/HTML/CSS) ¬∑ Backend (Flask, Spring Boot) ¬∑ Data/Infra (MySQL, Docker) ¬∑ Tools (Git, CI, Linux)</p>
  </section>

  <!-- ================== Contact & Footer ================== -->
  <section id="contact" style="margin-top:48px">
    <h2>Contact</h2>
    <p class="muted">Email me at <a class="link" href="mailto:email@example.com">email@example.com</a>. Based in City, State.</p>
  </section>

  <footer>¬© 2025 ‚Ä¢ Firstname Lastname</footer>
</main>

<!-- ================== Quick-View Modals ================== -->
<dialog id="m1" class="modal">
  <div class="dialog" role="document" aria-labelledby="m1-title">
    <header>
      <h3 id="m1-title">GymApp ‚Äî Flask + React</h3>
      <button class="modal-close" data-close="m1" aria-label="Close">‚úï</button>
    </header>
    <p class="muted">A fitness tracker with exercise builder, weekly insights, and predictions.</p>
    <ul class="list">
      <li>Reduced query time by 42% via indexed joins + caching layer.</li>
      <li>Clean module split: Deck/Player/Game; CI on PRs.</li>
      <li>JWT auth, role-based endpoints, and seed scripts.</li>
    </ul>
    <div class="actions">
      <a class="btn primary" href="#"><span class="shine"></span>Case Study ‚Üí</a>
      <a class="btn" href="#"><span class="shine"></span>Repository</a>
    </div>
  </div>
</dialog>

<dialog id="m2" class="modal">
  <div class="dialog" role="document" aria-labelledby="m2-title">
    <header>
      <h3 id="m2-title">Pollen Atlas ‚Äî WP Widget</h3>
      <button class="modal-close" data-close="m2" aria-label="Close">‚úï</button>
    </header>
    <p class="muted">Elementor widget combining Google Pollen & Air Quality with client-side charts.</p>
    <ul class="list">
      <li>Serverless cache lowered API calls by ~65%.</li>
      <li>ARIA-labelled charts + keyboard navigable legends.</li>
      <li>‚ÄúUse my location‚Äù shortcut with permissions fallback.</li>
    </ul>
    <div class="actions">
      <a class="btn primary" href="#"><span class="shine"></span>Live Demo</a>
      <a class="btn" href="#"><span class="shine"></span>Notes</a>
    </div>
  </div>
</dialog>

<dialog id="m3" class="modal">
  <div class="dialog" role="document" aria-labelledby="m3-title">
    <header>
      <h3 id="m3-title">Packing Slip Generation ‚Äî Spring Boot</h3>
      <button class="modal-close" data-close="m3" aria-label="Close">‚úï</button>
    </header>
    <p class="muted">Microservice to generate packing slips with batch PDF export.</p>
    <ul class="list">
      <li>Shipped 7 endpoints; 99.2% success rate.</li>
      <li>Dockerized; GitHub Actions for test & deploy.</li>
      <li>MySQL migrations with Flyway; seed fixtures for QA.</li>
    </ul>
    <div class="actions">
      <a class="btn primary" href="#"><span class="shine"></span>Case Study ‚Üí</a>
      <a class="btn" href="#"><span class="shine"></span>Repository</a>
    </div>
  </div>
</dialog>

<script>
/* ============= Theme toggling ============= */
(function(){
  const html = document.documentElement;
  const btn = document.getElementById('themeToggle');
  const label = document.getElementById('themeLabel');
  const icon = document.getElementById('themeIcon');
  const storageKey = 'theme';
  const sysDark = () => window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  function applyTheme(mode){
    html.setAttribute('data-theme', mode === 'auto' ? (sysDark() ? 'dark' : 'light') : mode);
    const isDark = html.getAttribute('data-theme') === 'dark';
    label.textContent = isDark ? 'Dark' : 'Light';
    icon.textContent  = isDark ? 'üåô' : '‚òÄÔ∏è';
    btn.setAttribute('aria-pressed', isDark);
  }
  const saved = localStorage.getItem(storageKey);
  if(saved === 'light' || saved === 'dark'){ applyTheme(saved); } else { applyTheme('auto'); }
  const mq = window.matchMedia('(prefers-color-scheme: dark)');
  mq.addEventListener && mq.addEventListener('change', () => { if(!localStorage.getItem(storageKey)) applyTheme('auto'); });
  btn.addEventListener('click', () => {
    const next = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    localStorage.setItem(storageKey, next); applyTheme(next);
  });
})();

/* ============= CTA cursor-light + ripple ============= */
(function(){
  const btns = document.querySelectorAll('.btn');
  const pos = (e, el) => {
    const r = el.getBoundingClientRect();
    const x = (e.touches ? e.touches[0].clientX : e.clientX) - r.left;
    const y = (e.touches ? e.touches[0].clientY : e.clientY) - r.top;
    el.style.setProperty('--mx', x + 'px'); el.style.setProperty('--my', y + 'px');
  };
  btns.forEach(el=>{
    ['mousemove','touchmove'].forEach(ev => el.addEventListener(ev, (e)=>pos(e, el), {passive:true}));
    el.addEventListener('mouseleave', ()=>{ el.style.removeProperty('--mx'); el.style.removeProperty('--my'); });
    el.addEventListener('click', (e)=>{
      const r = el.getBoundingClientRect();
      const x = (e.clientX ?? (e.touches?.[0]?.clientX)) - r.left;
      const y = (e.clientY ?? (e.touches?.[0]?.clientY)) - r.top;
      const ripple = document.createElement('span');
      ripple.className = 'ripple'; ripple.style.left = x + 'px'; ripple.style.top  = y + 'px';
      el.appendChild(ripple); ripple.addEventListener('animationend', ()=> ripple.remove());
    });
  });
})();

/* ============= Projects filters + layout toggle ============= */
(function(){
  const filters = document.querySelectorAll('.filter');
  const cards = document.querySelectorAll('.proj, .featured');
  let active = 'all';

  function applyFilter(){
    cards.forEach(el=>{
      const kind = (el.getAttribute('data-kind') || '').toLowerCase();
      const show = active === 'all' || kind.includes(active);
      el.style.display = show ? '' : 'none';
    });
  }
  filters.forEach(b=>{
    b.addEventListener('click', ()=>{
      filters.forEach(x=>x.setAttribute('aria-pressed','false'));
      b.setAttribute('aria-pressed','true');
      active = b.dataset.filter;
      applyFilter();
    });
  });

  // layout toggle (grid/list)
  const gridBtn = document.getElementById('gridBtn');
  const listBtn = document.getElementById('listBtn');
  const grid = document.getElementById('projGrid');
  function setLayout(mode){
    const isList = mode === 'list';
    grid.style.gridTemplateColumns = isList ? '1fr' : '';
    gridBtn.setAttribute('aria-pressed', !isList);
    listBtn.setAttribute('aria-pressed', isList);
  }
  gridBtn.addEventListener('click', ()=>setLayout('grid'));
  listBtn.addEventListener('click', ()=>setLayout('list'));
})();

/* ============= Quick-view modal controls ============= */
(function(){
  const openers = document.querySelectorAll('.quick');
  const closeBtns = document.querySelectorAll('.modal-close');
  openers.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const id = btn.dataset.modal; const dlg = document.getElementById(id);
      if(dlg && dlg.showModal){ dlg.showModal(); dlg.querySelector('.modal-close')?.focus(); }
      else if(dlg){ dlg.setAttribute('open',''); }
    });
  });
  closeBtns.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const id = btn.dataset.close; const dlg = document.getElementById(id);
      dlg?.close?.(); dlg?.removeAttribute('open');
    });
  });
  window.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){ document.querySelectorAll('.modal[open]').forEach(d=>d.close?.()); }
  });
})();
</script>

</body>
</html>
